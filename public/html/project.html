<!-- Project Details -->
<script src="flow.js"></script>
<div class="row panel">
    <div class="col-sm-12">
      <h3>{{project.name}}</h3>
    </div>
    <div class="col-sm-12" style="display: inline-flex; padding-bottom:5px;">
      <div class="tag" ng-repeat="tagName in project.keywords">{{tagName}}</div>
    </div>
</div>
<div class="row">
  <div class="col-sm-3">
    <div class="row panel small center">
      <!-- Buttons for actions like download edit etc -->
      <a class="col-xs-6 pad10 center plain" href="#">
        Edit&nbsp;&nbsp;&nbsp;
        <span class="glyphicon glyphicon-pencil"></span>
      </a>
      <a class="col-xs-6 pad10 plain" target="_self" ng-href="{{csv_link}}">
        Download&nbsp;&nbsp;&nbsp;
        <span class="glyphicon glyphicon-save"></span>
      </a>
    </div>
    <div class="row panel">
      <!-- View data -->
      <div class="col-sm-12">
        <h4>Description</h4>
        <h5>{{project.desc}}</h5>
        <hr/>

        <h4>Transcription Deadline</h4>
        <h5>{{getDateString(project.transcDeadline)}}</h5>
        <hr/>

        <h4>Embargo Date</h4>
        <h5>{{getDateString(project.embargoDate)}}</h5>
        <hr/>

        <div class="row" style="text-align:center;">
          <div class="col-xs-6" style="border-right:1px solid #ddd;">{{project.nod}}<br/>Docs</div>
          <div class="col-xs-6">{{project.notd}}<br/>Transcribed</div>
        </div>
        <hr/>
        <div class="row" style="text-align:center;">
          <div class="col-xs-6" style="text-align:center;">{{project.status}}</div>
          <div class="col-xs-6"><i>{{project.visibility}}</i></div>
        </div>
        <br/>
      </div>
    </div>
  </div>
  <!-- Right column -->
  <div class="col-sm-9">
    <div class="col-xs-12" style="text-align:center;" ng-show="files.length === 0">
      <br/><br/>
      <p class="lead"><h3>Sorry.. No files have been added yet.. </h3></p>
      <br/>
    </div>

    <div class="col-xs-12">
        <div class="col-xs-12 col-sm-6 col-md-4 projectImage" ng-repeat="file in files">
          <center>
            <div style="overflow:hidden;box-shadow: 0px 0px 15px #888888;">
              <a style="text-decoration:none;" href="{{project.status === 'ready' ? '/project/'+project._id+'/transcribe/'+file._id : '#'}}">
                <div style="max-height:200px;overflow:hidden;border-bottom: #777 solid 2px;">
                  <img src="/api/download/{{file.identifier}}"
                  width="100%" height="100%"
                  ng-click="transcribeImage(file)"/>
                </div>
                <div class="pad10" style="overflow:hidden;text-overflow: ellipsis;color:#111;">
                  {{file.name}}
                </div>
              </a>
              <a style="text-decoration:none;" href="/project/{{project._id}}/exemplar/{{file._id}}">
                <div ng-if="project.status === 'draft'"
                  class="pad10"
                  style="background-color:#EF6775;color:#eee;overflow:hidden;text-overflow: ellipsis;">
                  Set as Exemplar
                </div>
              </a>
            </div>
          </center>
        </div>
        <div class="col-xs-4" style="margin:5px;" ng-show="files.length === 0"></div>
        <div class="col-xs-4" style="padding:5px;" ng-hide="files.length > 8">
          <center>
            <span class="btn btn-lg" flow-btn flow-attrs="{accept:'image/*'}">
              <span class="glyphicon glyphicon-cloud-upload" style="font-size:5.5em;" aria-hidden="true"></span>
              <br/><br/>
              <h4>Add Files</h4>
            </span>
          </center>
        </div>
    </div>
  </div>
</div>
