<!-- Model for Transcribing -->
<!-- Button trigger modal 
    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
      Launch demo modal
    </button>
-->

<!-- CSS for img and canvas -->
<style>
.img{position:relative;z-index:1;}

#imgHolder{
    display:inline-block;
    min-height: 10px;
    overflow : inherit;
    /*
    width:320px; 
    height:480px;
    margin: 0 auto; 
    background: black; 
    */
    position:relative; 
    /*border:5px solid black; 
    border-radius: 10px; 
    box-shadow: 0 5px 50px #333
    */
}

#gameCanvas{
    position:absolute;
    z-index:20;
}
</style>
<script>
 console.log('asdhsjadhkjasd'); document.getElementById('ti').addEventListener("DOMContentLoaded", function(event) {
    console.log("DOM fully loaded and parsed");
  });
</script>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Transcribe</h4>
            </div>
            <div class="modal-body">
                <div class="row" style="overflow:auto;">
                    <!-- THe image part -->
                    <div class="col-xs-8" id="imageHolder" style="min-height:10px;width=100%;">
                        <!--
                        <div class="row">
                            <canvas id="myCanvas" class="col-xs-12" height="1" style="overflow:visible"></canvas>
                        </div>
                        -->
                        <div class="col-sm-12" id="imgHolder">
                            <canvas id="gameCanvas" width="0" height="0"></canvas>
                            <img class="img" id="ti"  src="/api/download/{{imgToTranscribe.identifier}}" width="100%" imageonload="onTranscImgLoad()"/>
                            
                        </div>
                    </div>
                    <!-- Transcribing part -->
                    <div class="col-xs-4">
                        <!-- Schema is fixed for a project. Its one of the properties of project. Max of eight -->
                        <div ng-repeat="field in project.schema.fields">
                            <b>Type : {{field.t}}</b><br/>
                            <input class="form-control input"/>
                            <br/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Save Transcribe</button>
            </div>
        </div>
    </div>
</div>


<!-- Project Details -->
<div class="row panel">
    <div class="col-sm-12">
        <strong><h2>{{project.name}} &nbsp;&nbsp;<a href="/project/{{project._id}}/edit" class="btn btn-primary">Edit</a></h2></strong>
    </div>
</div>
<div class="row panel">

    <br/>
    <div class="col-xs-12">
        <div class="col-xs-12">
            <h5><strong>Description</strong></h5> {{project.desc}}
        </div>
        <div class="col-xs-12">
            <br/>
            <br/>
        </div>
        <div class="col-xs-12">
            <div class="col-xs-4">
                <h5><strong>Transcription Deadline</strong></h5>
                <br/> {{project.transcDeadline}}
            </div>
            <div class="col-xs-4">
                <h5><strong>Embargo Date</strong></h5>
                <br/> {{project.embargoDate}}
            </div>
            <div class="col-xs-4">
                <h5><strong>Visibility</strong></h5>
                <br/> {{project.visibility}}
            </div>

        </div>

        <div class="col-xs-12">
            <br/>
            <br/>
        </div>

        <div class="col-sm-12">
            <div class="col-sm-4">
                <h5><strong>No. of Docs</strong></h5>
                <br/> {{project.nod}}
            </div>
            <div class="col-sm-4">
                <h5><strong>No. of Docs Transcd</strong></h5>
                <br/> {{project.notd}}
            </div>
            <div class="col-sm-4">
                <h5><strong>Status</strong></h5>
                <br/> {{project.status}}
            </div>
        </div>

        <div class="col-xs-12">
            <br/>
            <br/>
        </div>
        <h4>Files </h4>

        <div class="col-xs-12">
            <div class="col-xs-4" ng-repeat="file in files" style="margin:5px;">
                <center>
                    <img src="/api/download/{{file.identifier}}" width="100%" ng-click="transcribeImage(file)" data-toggle="modal" data-target="#myModal"></td>
                    {{file.name}}
                </center>
            </div>

        </div>
    </div>
</div>


<!--
{"_id":"56ca38819ad322cc57000002","name":"ProjectX","desc":"desc of project X","visibility":"public","user":"ranji","__v":0}
-->